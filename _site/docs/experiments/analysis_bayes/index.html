<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><title>Results - Bayes - Mímirbrunnr</title><link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-69153593-2"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', "UA-69153593-2"); </script> <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Results - Bayes | Mímirbrunnr</title><meta name="generator" content="Jekyll v3.8.6" /><meta property="og:title" content="Results - Bayes" /><meta property="og:locale" content="en_US" /><meta name="description" content="Starting point for Data &amp; Analytics" /><meta property="og:description" content="Starting point for Data &amp; Analytics" /><link rel="canonical" href="http://localhost:4000/docs/experiments/analysis_bayes/" /><meta property="og:url" content="http://localhost:4000/docs/experiments/analysis_bayes/" /><meta property="og:site_name" content="Mímirbrunnr" /> <script type="application/ld+json"> {"description":"Starting point for Data &amp; Analytics","headline":"Results - Bayes","@type":"WebPage","url":"http://localhost:4000/docs/experiments/analysis_bayes/","@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"><title>Link</title><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg><div class="page-wrap"><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000" class="site-title lh-tight"> Mímirbrunnr </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button></div><div class="navigation main-nav js-main-nav"><nav role="navigation" aria-label="Main navigation"><ul class="navigation-list"><li class="navigation-list-item"><a href="http://localhost:4000/" class="navigation-list-link">Home</a><li class="navigation-list-item active"><a href="http://localhost:4000/docs/experiments/experiments/" class="navigation-list-link">Experiments</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/docs/experiments/experiment_design/" class="navigation-list-link">Design</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/experiments/experiment_execution/" class="navigation-list-link">Execution</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/experiments/simulations_sampling/" class="navigation-list-link">Sampling and Simulating Results</a><li class="navigation-list-item active"><a href="http://localhost:4000/docs/experiments/analysis_bayes/" class="navigation-list-link active">Results - Bayes</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/experiments/analysis_distributions/" class="navigation-list-link">Results - Distributions</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/experiments/analysis_frequentist/" class="navigation-list-link">Results - Frequentist</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/experiments/common_pitfalls/" class="navigation-list-link">Common Pitfalls</a></ul><li class="navigation-list-item"><a href="http://localhost:4000/docs/campaign_analytics/" class="navigation-list-link">Campaigns</a><li class="navigation-list-item"><a href="http://localhost:4000/docs/reports/reports/" class="navigation-list-link">Reports</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/docs/reports/001_example_report_summary/" class="navigation-list-link">001 Example Report Summary</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/reports/002_weather_effect/" class="navigation-list-link">001 Example Report Summary</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/reports/003_competitor_analysis/" class="navigation-list-link">001 Example Report Summary</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/reports/004_collections/" class="navigation-list-link">001 Example Report Summary</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/reports/004_subscriptions/" class="navigation-list-link">001 Example Report Summary</a></ul><li class="navigation-list-item"><a href="http://localhost:4000/docs/dashboards/" class="navigation-list-link">Dashboards</a><li class="navigation-list-item"><a href="http://localhost:4000/docs/requests/requests/" class="navigation-list-link">Requests</a><li class="navigation-list-item"><a href="http://localhost:4000/docs/toolkit/toolkit/" class="navigation-list-link">Toolkit</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/docs/toolkit/jupyterhub/" class="navigation-list-link">Jupyer Hub</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/toolkit/airflow/" class="navigation-list-link">Airflow</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/toolkit/superset/" class="navigation-list-link">Superset</a></ul><li class="navigation-list-item"><a href="http://localhost:4000/docs/analytics_wiki/analytics_wiki/" class="navigation-list-link">Analytics Wiki</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/docs/analytics_wiki/kpi_wiki/" class="navigation-list-link">KPI wiki</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/analytics_wiki/data_catalog/" class="navigation-list-link">Data Catalog</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/analytics_wiki/data_cleaning/" class="navigation-list-link">Data Cleaning</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/analytics_wiki/marketing/" class="navigation-list-link">Marketing Analytics</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/analytics_wiki/visualisations/" class="navigation-list-link">Visualisations</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/analytics_wiki/resources/" class="navigation-list-link">Resources</a></ul><li class="navigation-list-item"><a href="http://localhost:4000/docs/search/" class="navigation-list-link">Search</a><li class="navigation-list-item"><a href="http://localhost:4000/docs/faqs/faqs/" class="navigation-list-link">FAQs</a><ul class="navigation-list-child-list "></ul><li class="navigation-list-item"><a href="http://localhost:4000/docs/utilities" class="navigation-list-link">Utilities</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/docs/utilities/responsive-modifiers/" class="navigation-list-link">Responsive Modifiers</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/utilities/layout/" class="navigation-list-link">Layout</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/utilities/color/" class="navigation-list-link">Color</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/utilities/typography/" class="navigation-list-link">Typography</a></ul><li class="navigation-list-item"><a href="http://localhost:4000/docs/index-test/" class="navigation-list-link">Markdown kitchen sink</a><li class="navigation-list-item"><a href="http://localhost:4000/docs/customization/" class="navigation-list-link">Customization</a><li class="navigation-list-item"><a href="http://localhost:4000/docs/configuration/" class="navigation-list-link">Configuration</a><li class="navigation-list-item"><a href="http://localhost:4000/docs/ui-components" class="navigation-list-link">UI Components</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/docs/ui-components/typography/" class="navigation-list-link">Typography</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/ui-components/buttons/" class="navigation-list-link">Buttons</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/ui-components/labels/" class="navigation-list-link">Labels</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/ui-components/tables/" class="navigation-list-link">Tables</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/ui-components/lists/" class="navigation-list-link">Lists</a><li class="navigation-list-item "><a href="http://localhost:4000/docs/ui-components/code/" class="navigation-list-link">Code</a></ul></ul></nav></div><footer class="site-footer"><p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p></footer></div><div class="main-content-wrap js-main-content" tabindex="0"><div class="main-content"><div class="page-header js-page-header"><div class="search"><div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Mímirbrunnr" aria-label="Search Mímirbrunnr" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg></div><div class="js-search-results search-results-wrap"></div></div><ul class="list-style-none text-small aux-nav"><li class="d-inline-block my-0"><a href="https://github.com/jlb-qi/">For raw analysis data and notebooks see Github</a></ul></div><div class="page"><nav class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/experiments/experiments/">Experiments</a><li class="breadcrumb-nav-list-item"><span>Results - Bayes</span></ol></nav><div id="main-content" class="page-content" role="main"><h1 class="no_toc" id="bayesian-methodology"> <a href="#bayesian-methodology" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Bayesian Methodology</h1><p>How to evaluate experiments with Bayesian techniques.</p><h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Table of contents</h2><ol id="markdown-toc"><li><a href="#bayes" id="markdown-toc-bayes">Bayes</a><ol><li><a href="#the-concepts" id="markdown-toc-the-concepts">The Concepts</a><ol><li><a href="#priors" id="markdown-toc-priors">Priors</a><ol><li><a href="#conjugate-priors" id="markdown-toc-conjugate-priors">Conjugate priors</a></ol><li><a href="#expected-loss" id="markdown-toc-expected-loss">Expected Loss</a><li><a href="#posterior-distributions" id="markdown-toc-posterior-distributions">Posterior distributions</a><li><a href="#some-model-parameters" id="markdown-toc-some-model-parameters">Some model parameters</a></ol><li><a href="#presenting-results" id="markdown-toc-presenting-results">Presenting results</a><li><a href="#the-downsides-of-a-bayesian-approach" id="markdown-toc-the-downsides-of-a-bayesian-approach">The downsides of a Bayesian approach</a></ol><li><a href="#references" id="markdown-toc-references">References</a><ol><li><a href="#intros" id="markdown-toc-intros">Intros</a><li><a href="#examples" id="markdown-toc-examples">Examples</a><li><a href="#calculators" id="markdown-toc-calculators">Calculators</a><li><a href="#packages" id="markdown-toc-packages">Packages</a></ol></ol><hr /><h2 id="bayes"> <a href="#bayes" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Bayes</h2><p><a href="https://towardsdatascience.com/bayesian-nightmare-how-to-start-loving-bayes-1622741fa960">How to learn to love Bayes</a></p><h3 id="the-concepts"> <a href="#the-concepts" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> The Concepts</h3><p>α – underlying and unobserved true metric for variant A</p><p>β – underlying and unobserved true metric for variant B</p><p>Therefore, If we choose variant A when α is less than β, our loss is β – α. If α is greater than β, we lose nothing. Our loss is the amount by which our metric decreases when we choose that variant.</p><p><a href="https://medium.com/convoy-tech/the-power-of-bayesian-a-b-testing-f859d2219d5">ref</a></p><h4 id="priors"> <a href="#priors" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Priors</h4><p>Prior – one of the key differences between Frequentist and Bayesian is that the latter can take prior information into account. Hence, it doesn’t have to learn all the data points itself and can, therefore, reach the conclusions faster.</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>For example, let’s say we use a Beta(1, 1) distribution as the prior for a Bernoulli distribution. After observing 40 successes and 60 failures, our posterior distribution is a Beta(41, 61)⁶. However, if we had started with a Beta(8, 12) distribution as our prior, we would only need to observe 32 successes and 48 failures in order to obtain the same distribution as before.
</code></pre></div></div><p>In general, it is suggested to choose priors that are a bit weaker than what the historical data suggest.</p><h5 id="conjugate-priors"> <a href="#conjugate-priors" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Conjugate priors</h5><h4 id="expected-loss"> <a href="#expected-loss" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Expected Loss</h4><p>ε – the threshold of expected loss for one of the variants, under which we stop the experiment</p><p>This is how we measure the effect of different variants</p><h4 id="posterior-distributions"> <a href="#posterior-distributions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Posterior distributions</h4><p>This is where the answer we’re looking for lies. There’s a concept called the <strong>maximum likelihood estimator</strong>. This is the point on the posterior distribution where the greatest probability lies. The <strong>posterior mean</strong> is the best guess at the true value of the metric you’re interested in and the <strong>credible interval</strong> is the shortest interval that contains 90% of the probabilities.</p><p>For example, focusing just on the expected loss may lead us to call null results significant. But if we base our procedure not just on the expected loss, but also the posterior probability Pr(B&gt;A), we can focus on cases where we’re confident in a positive change.</p><h4 id="some-model-parameters"> <a href="#some-model-parameters" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Some model parameters</h4><ul><li>Mu: the mean of the vector of interest<li>Sigma: the standard deviation of the vector of interest<li>Theta:<li>Nu:<li>Lambda:</ul><h3 id="presenting-results"> <a href="#presenting-results" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Presenting results</h3><p>Most Bayesian-based A/B testing tools, like VWO, present their results using three key metrics</p><ul><li>Relative improvement VS control – a range by which the observed metric for the variation is better or worse than the same metric for the control. The range is calculated for a 99% probability. The more data the test collects, the smaller this range gets.<li>Absolute potential loss – the potential loss is the lift you can lose out on if you deploy A as the winner when B is actually better.<li>Chance to beat control/all – probability of the variation being better than the control/all other variations.</ul><p><a href="https://help.vwo.com/hc/en-us/articles/360033471874">VWO smartstats</a></p><h3 id="the-downsides-of-a-bayesian-approach"> <a href="#the-downsides-of-a-bayesian-approach" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> The downsides of a Bayesian approach</h3><p><a href="http://blog.analytics-toolkit.com/2017/5-reasons-bayesian-ab-testing-debunked/">5 reasons for switching to Bayesian debunked</a></p><h2 id="references"> <a href="#references" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> References</h2><h3 id="intros"> <a href="#intros" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Intros</h3><ul><li><p><a href="https://www.evanmiller.org/bayesian-ab-testing.html">Evan Miller bayes intro</a></p><li><p><a href="http://varianceexplained.org/r/bayesian-ab-testing/">Is Bayesian A/B Testing Immune to Peeking? Not Exactly</a></p><li><p><a href="https://medium.com/convoy-tech/the-power-of-bayesian-a-b-testing-f859d2219d5">The Power of Bayesian Testing</a></p><li><p><a href="https://guneetkohli.github.io/ab-testing/BayesianABTesting/#.XocY225S8w2">Getting started with Bayes AB testing (signups/conversions w/o PYMC3)</a></p><li><p><a href="https://towardsdatascience.com/bayesian-nightmare-how-to-start-loving-bayes-1622741fa960">Bayesian Nightmare, How to start loving Bayes</a></p></ul><h3 id="examples"> <a href="#examples" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Examples</h3><ul><li><p><a href="https://medium.com/hockey-stick/tl-dr-bayesian-a-b-testing-with-python-c495d375db4d">Alpaca Bear example (i.e. counts/Beta distribution)</a></p><li><p><a href="https://towardsdatascience.com/estimating-probabilities-with-bayesian-modeling-in-python-7144be007815">Lions, Tigers &amp; Bears example (i.e. multinomial/dirichlet distribution)</a></p><li><p><a href="http://ewulczyn.github.io/ab_testing_with_multinomial_data/">Beautifully Bayesian - How to do AB Testing with Discrete Rewards? (Dirichlet)</a></p><li><p><a href="https://medium.com/ni-tech-talk/optimizing-revenue-with-bayesian-a-b-testing-5068e8ac41ea">Bayes for Revenue AB testing (i.e. rates/Gamma and Poisson distributions)</a></p><li><p><a href="https://discourse.pymc.io/t/revenue-metric-for-ab-testing/3800/6">Revenue metric for Bayes AB testing</a></p><li><p><a href="https://medium.com/ni-tech-talk/optimizing-revenue-with-bayesian-a-b-testing-5068e8ac41ea">Optimizing revenue with Bayes AB testing</a></p><li><p><a href="https://docs.pymc.io/notebooks/BEST.html">PYMC3 drug trial example</a></p></ul><h3 id="calculators"> <a href="#calculators" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Calculators</h3><ul><li><p><a href="https://marketing.dynamicyield.com/bayesian-calculator/?">Bayes AB test (conversion) calculator</a></p><li><p><a href="https://vidogreg.shinyapps.io/bayes-arpu-test/">Bayes ARPU calculator</a></p></ul><h3 id="packages"> <a href="#packages" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Packages</h3><ul><li><a href="https://cran.r-project.org/web/packages/BEST/vignettes/BEST.pdf">BEST (R)</a></ul><hr><footer role="contentinfo"><p class="text-small text-grey-dk-000 mb-0">“Any fool can know. The point is to understand.” - Albert Einstein</p></footer></div></div></div></div>
